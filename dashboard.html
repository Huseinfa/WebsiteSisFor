<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Informasi K3 - Bimbel Brawijaya (Dashboard)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
            background: #0d1117;
            color: #e6edf3;
        }
        .content-section { display: none; animation: fadeIn 0.5s ease-in-out; }
        .content-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    /* notification removed */
        
        .dark-card {
            background: rgba(22, 27, 34, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        .dark-card:hover {
            background: rgba(22, 27, 34, 0.8);
            border-color: rgba(197, 154, 46, 0.3);
            transform: translateY(-2px);
        }
        
        .sidebar-gradient {
            background: linear-gradient(180deg, #1c1c1e 0%, #161b22 50%, #0d1117 100%);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .nav-link {
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }
        .nav-link:hover {
            background: rgba(93, 44, 50, 0.3);
            border-left-color: #C59A2E;
        }
        .nav-link.active-link {
            background: rgba(93, 44, 50, 0.5);
            border-left-color: #C59A2E;
            color: #C59A2E !important;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #5D2C32 0%, #4A1B1F 100%);
            transition: all 0.3s ease;
            box-shadow: 0 0 20px rgba(93, 44, 50, 0.3);
        }
        .btn-primary:hover {
            box-shadow: 0 0 30px rgba(93, 44, 50, 0.5);
            transform: translateY(-2px);
        }
        
        input, textarea, select {
            background: rgba(22, 27, 34, 0.8) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            color: #e6edf3 !important;
        }
        input:focus, textarea:focus, select:focus {
            border-color: rgba(197, 154, 46, 0.5) !important;
            outline: none !important;
            box-shadow: 0 0 0 3px rgba(197, 154, 46, 0.1) !important;
        }
        
        .prose-dark {
            color: #c9d1d9;
        }
        .prose-dark p, .prose-dark li {
            color: #c9d1d9;
        }
        .prose-dark h3, .prose-dark h4 {
            color: #e6edf3;
        }
        
        /* Mobile Hamburger Menu */
        .mobile-menu-btn {
            display: none;
        }
        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: flex;
            }
            aside {
                position: fixed;
                left: -100%;
                top: 0;
                bottom: 0;
                z-index: 1000;
                transition: left 0.3s ease;
            }
            aside.mobile-open {
                left: 0;
            }
            .mobile-overlay {
                display: none;
                position: fixed;
                inset: 0;
                background: rgba(0, 0, 0, 0.5);
                z-index: 999;
            }
            .mobile-overlay.active {
                display: block;
            }
            main {
                padding: 1rem;
            }
        }
        
        /* Light Mode Styles */
        body.light-mode {
            background: #f6f8fa;
            color: #24292f;
        }
        body.light-mode .sidebar-gradient {
            background: linear-gradient(180deg, #ffffff 0%, #f6f8fa 50%, #eaeef2 100%);
            border-right: 1px solid rgba(0, 0, 0, 0.1);
        }
        body.light-mode .dark-card {
            background: #ffffff;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        body.light-mode .dark-card:hover {
            background: #f6f8fa;
        }
        body.light-mode main {
            background: #f6f8fa;
        }
        body.light-mode h2, body.light-mode h3, body.light-mode h4, 
        body.light-mode .text-white {
            color: #24292f !important;
        }
        body.light-mode .text-gray-300, body.light-mode .text-gray-400 {
            color: #57606a !important;
        }
        body.light-mode input, body.light-mode textarea, body.light-mode select {
            background: #ffffff !important;
            border: 1px solid rgba(0, 0, 0, 0.2) !important;
            color: #24292f !important;
        }
        body.light-mode .nav-link:hover {
            background: rgba(93, 44, 50, 0.1);
        }
        body.light-mode .nav-link.active-link {
            background: rgba(93, 44, 50, 0.15);
        }
        
        /* Gamification styles removed */
    </style>
</head>
<body>
    <!-- Mobile Overlay -->
    <div class="mobile-overlay" id="mobileOverlay"></div>

    <!-- Mobile Header -->
    <div class="md:hidden fixed top-0 left-0 right-0 z-50 bg-[#1c1c1e] border-b border-white/10 px-4 py-3 flex items-center justify-between">
        <button class="mobile-menu-btn text-white p-2" id="mobileMenuBtn">
            <i class="fas fa-bars text-xl"></i>
        </button>
        <div class="flex items-center gap-2">
            <img src="logo.svg" alt="Logo" class="w-8 h-8">
            <span class="text-white font-semibold">Bimbel Brawijaya</span>
        </div>
        <div class="flex items-center gap-2">
            <!-- Language Toggle -->
            <button id="langToggle" class="p-2 text-gray-400 hover:text-white transition">
                <i class="fas fa-language text-lg"></i>
            </button>
            <!-- Theme Toggle -->
            <button id="themeToggleMobile" class="p-2 text-gray-400 hover:text-white transition">
                <i class="fas fa-moon text-lg"></i>
            </button>
        </div>
    </div>

    <div class="flex h-screen md:pt-0 pt-14">
        <!-- Sidebar Navigation -->
        <aside class="w-64 sidebar-gradient text-white flex flex-col">
            <!-- Close button for mobile -->
            <div class="md:hidden flex justify-end p-4">
                <button class="text-white" id="closeMobileMenu">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div class="p-6 text-center border-b border-white/10">
                <div class="flex items-center justify-center mb-3">
                    <img src="logo.svg" alt="Bimbel Brawijaya Logo" class="w-12 h-12 mr-3">
                    <div class="text-left">
                        <h1 class="text-xl font-bold text-white">Bimbel Brawijaya</h1>
                        <p class="text-xs text-gray-400">SI-K3</p>
                    </div>
                </div>
                <p class="text-sm text-gray-400" data-i18n="tagline">Keselamatan Prioritas Kita</p>
                
                
            <nav class="flex-grow overflow-y-auto">
                <ul class="mt-6">
                    <li><a href="#dashboard" class="nav-link active-link flex items-center py-3 px-6 text-gray-300"><i class="fas fa-tachometer-alt w-6 mr-3"></i> <span data-i18n="nav-dashboard">Dashboard</span></a></li>
                    <li><a href="#kebijakan" class="nav-link flex items-center py-3 px-6 text-gray-300"><i class="fas fa-file-alt w-6 mr-3"></i> <span data-i18n="nav-policy">Kebijakan K3</span></a></li>
                    <li><a href="#prosedur-darurat" class="nav-link flex items-center py-3 px-6 text-gray-300"><i class="fas fa-exclamation-triangle w-6 mr-3"></i> <span data-i18n="nav-emergency">Prosedur Darurat</span></a></li>
                    <!-- Report Incident removed per request -->
                    <li><a href="#materi-edukasi" class="nav-link flex items-center py-3 px-6 text-gray-300"><i class="fas fa-book-open w-6 mr-3"></i> <span data-i18n="nav-education">Materi Edukasi</span></a></li>
                    <li><a href="#kontak" class="nav-link flex items-center py-3 px-6 text-gray-300"><i class="fas fa-address-book w-6 mr-3"></i> <span data-i18n="nav-contact">Kontak Penting</span></a></li>
                </ul>
            </nav>
            <div class="p-6 border-t border-white/10">
                <!-- Desktop Theme & Language Toggle -->
                <div class="hidden md:flex items-center justify-center gap-2 mb-4">
                    <div class="w-full flex gap-2">
                        <button id="themeToggle" class="flex-1 py-2 px-3 text-sm text-gray-300 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg transition">
                            <i class="fas fa-moon mr-2"></i><span data-i18n="theme">Tema</span>
                        </button>
                        <button id="langToggleDesktop" class="flex-1 py-2 px-3 text-sm text-gray-300 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg transition">
                            <i class="fas fa-language mr-2"></i><span id="currentLang">ID</span>
                        </button>
                    </div>
                </div>
                
                <a href="index.html" class="flex items-center justify-center py-2 px-4 text-sm text-gray-300 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg transition">
                    <i class="fas fa-home mr-2"></i> <span data-i18n="back-home">Kembali ke Beranda</span>
                </a>
                <div class="mt-4 text-center text-xs text-gray-500">
                    &copy; 2025 Bimbel Brawijaya.
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-8 overflow-y-auto bg-[#0d1117]">
            <!-- Header -->
            <header class="mb-8">
                 <h2 id="page-title" class="text-4xl font-bold text-white mb-2">Dashboard</h2>
                 <p class="text-gray-400 text-lg">Selamat datang di Sistem Informasi Kesehatan dan Keselamatan Kerja.</p>
            </header>

            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Quick Action Card: Report Incident removed -->
                    <!-- Quick Action Card: Emergency Procedures -->
                    <a href="#prosedur-darurat" class="nav-link-card dark-card p-6 rounded-xl touch-manipulation">
                        <div class="flex items-center">
                            <div class="bg-amber-500/10 p-4 rounded-full mr-4">
                                <i class="fas fa-exclamation-triangle text-2xl text-amber-400"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-semibold text-white" data-i18n="card-emergency">Prosedur Darurat</h3>
                                <p class="text-gray-400" data-i18n="card-emergency-desc">Langkah-langkah saat keadaan darurat.</p>
                            </div>
                        </div>
                    </a>
                    <!-- Quick Action Card: Education -->
                    <a href="#materi-edukasi" class="nav-link-card dark-card p-6 rounded-xl touch-manipulation">
                        <div class="flex items-center">
                            <div class="bg-purple-500/10 p-4 rounded-full mr-4">
                                <i class="fas fa-book-open text-2xl text-purple-400"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-semibold text-white" data-i18n="card-education">Materi Edukasi</h3>
                                <p class="text-gray-400" data-i18n="card-education-desc">Tingkatkan pengetahuan K3 Anda.</p>
                            </div>
                        </div>
                    </a>
                </div>
                 <div class="mt-8 dark-card p-6 rounded-xl">
                    <h3 class="text-2xl font-semibold text-white mb-4" data-i18n="announcements">Pengumuman K3</h3>
                    <div class="border-l-4 border-amber-400 pl-4">
                        <p class="text-gray-300" data-i18n="announcement-text">Akan diadakan simulasi evakuasi kebakaran pada hari Jumat, 26 September 2025. Seluruh staf dan siswa wajib mengikuti. Informasi lebih lanjut akan diumumkan melalui email.</p>
                        <p class="text-sm text-gray-500 mt-2" data-i18n="announcement-by">Diumumkan oleh: Manajer K3 - 23 September 2025</p>
                    </div>
                </div>
            </section>
            
            
            <!-- Kebijakan K3 Section -->
            <section id="kebijakan" class="content-section dark-card p-8 rounded-xl">
                <h3 class="text-3xl font-bold text-white mb-4" data-i18n="policy-title">Kebijakan K3 Perusahaan</h3>
                <div class="prose-dark max-w-none">
                    <p class="mb-4" data-i18n="policy-intro">PT Bimbel Brawijaya berkomitmen untuk menyediakan lingkungan belajar dan bekerja yang aman dan sehat bagi semua siswa, pengajar, staf, dan pengunjung. Kami percaya bahwa semua kecelakaan kerja dan penyakit akibat kerja dapat dicegah.</p>
                    <p class="mb-4" data-i18n="policy-goals">Untuk mencapai tujuan ini, kami akan:</p>
                    <ol class="list-decimal pl-5 space-y-2 mb-6">
                        <li data-i18n="policy-1">Mematuhi semua peraturan perundang-undangan K3 yang berlaku dan standar industri terkait.</li>
                        <li data-i18n="policy-2">Mengidentifikasi, menilai, dan mengendalikan semua potensi bahaya di tempat kerja.</li>
                        <li data-i18n="policy-3">Menyediakan pelatihan dan informasi yang memadai tentang K3 kepada seluruh karyawan dan siswa.</li>
                        <li data-i18n="policy-4">Mendorong partisipasi aktif dari semua pihak dalam program K3.</li>
                        <li data-i18n="policy-5">Melakukan peninjauan dan perbaikan berkelanjutan terhadap sistem manajemen K3 kami.</li>
                    </ol>
                    <p class="mb-6" data-i18n="policy-closing">Kebijakan ini berlaku untuk semua lokasi dan kegiatan di bawah naungan PT Bimbel Brawijaya. Komitmen terhadap K3 adalah tanggung jawab kita bersama.</p>
                    <div class="text-right">
                        <p class="font-semibold text-white" data-i18n="policy-signature">Manajemen PT Bimbel Brawijaya</p>
                    </div>
                </div>
            </section>

            <!-- Prosedur Darurat Section -->
            <section id="prosedur-darurat" class="content-section">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="dark-card p-6 rounded-xl">
                        <h4 class="text-2xl font-semibold text-white mb-3"><i class="fas fa-fire text-red-400 mr-2"></i> <span data-i18n="emergency-fire-title">Prosedur Saat Kebakaran</span></h4>
                        <ol class="list-decimal pl-5 space-y-2 text-gray-300">
                            <li data-i18n="emergency-fire-1">Tetap tenang, jangan panik.</li>
                            <li data-i18n="emergency-fire-2">Segera beritahu orang sekitar dengan berteriak "KEBAKARAN!".</li>
                            <li data-i18n="emergency-fire-3">Jika api kecil, coba padamkan dengan APAR (Alat Pemadam Api Ringan) jika Anda terlatih.</li>
                            <li data-i18n="emergency-fire-4">Jika api membesar, segera tinggalkan gedung melalui jalur evakuasi.</li>
                            <li data-i18n="emergency-fire-5">Jangan gunakan lift. Gunakan tangga darurat.</li>
                            <li data-i18n="emergency-fire-6">Berkumpul di titik kumpul (assembly point) yang telah ditentukan.</li>
                        </ol>
                    </div>
                    <div class="dark-card p-6 rounded-xl">
                        <h4 class="text-2xl font-semibold text-white mb-3"><i class="fas fa-house-damage text-amber-400 mr-2"></i> <span data-i18n="emergency-earthquake-title">Prosedur Saat Gempa Bumi</span></h4>
                        <ol class="list-decimal pl-5 space-y-2 text-gray-300">
                            <li data-i18n="emergency-earthquake-1">Segera berlindung di bawah meja yang kokoh atau merapat ke dinding bagian dalam.</li>
                            <li data-i18n="emergency-earthquake-2">Jauhi jendela, kaca, dan benda-benda yang mudah jatuh.</li>
                            <li data-i18n="emergency-earthquake-3">Lindungi kepala dengan tangan atau benda empuk.</li>
                            <li data-i18n="emergency-earthquake-4">Jika di luar ruangan, jauhi gedung, tiang listrik, dan pohon.</li>
                            <li data-i18n="emergency-earthquake-5">Setelah guncangan berhenti, keluar dari gedung dengan tertib.</li>
                        </ol>
                    </div>
                    <div class="dark-card p-6 rounded-xl col-span-1 md:col-span-2">
                        <h4 class="text-2xl font-semibold text-white mb-3"><i class="fas fa-first-aid text-purple-400 mr-2"></i> <span data-i18n="emergency-medical-title">Prosedur Kedaruratan Medis</span></h4>
                        <ol class="list-decimal pl-5 space-y-2 text-gray-300">
                            <li data-i18n="emergency-medical-1">Segera hubungi petugas K3 atau resepsionis.</li>
                            <li data-i18n="emergency-medical-2">Jangan memindahkan korban kecuali dalam kondisi bahaya.</li>
                            <li data-i18n="emergency-medical-3">Berikan pertolongan pertama sesuai kemampuan (jika terlatih).</li>
                            <li data-i18n="emergency-medical-4">Tenangkan korban dan jangan berkerumun.</li>
                            <li data-i18n="emergency-medical-5">Ikuti arahan dari tim medis atau petugas K3 yang datang.</li>
                        </ol>
                    </div>
                </div>
            </section>

            <!-- Lapor Insiden section removed per request -->

            <!-- Materi Edukasi Section -->
            <section id="materi-edukasi" class="content-section">
                 <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="dark-card rounded-xl overflow-hidden">
                        <img src="https://placehold.co/600x400/34d399/ffffff?text=Ergonomi" alt="Ergonomi" class="w-full h-40 object-cover">
                        <div class="p-6">
                            <h4 class="font-semibold text-lg text-white" data-i18n="edu-ergonomics-title">Ergonomi Posisi Belajar</h4>
                            <p class="text-gray-400 mt-2" data-i18n="edu-ergonomics-desc">Pelajari cara duduk dan menggunakan komputer dengan benar untuk menghindari nyeri punggung dan leher.</p>
                            <a href="ergonomi.html" class="text-amber-400 hover:text-amber-300 font-medium mt-4 inline-block"><span data-i18n="edu-readmore">Baca Selengkapnya</span> &rarr;</a>
                        </div>
                    </div>
                     <div class="dark-card rounded-xl overflow-hidden">
                        <img src="https://placehold.co/600x400/f87171/ffffff?text=APAR" alt="APAR" class="w-full h-40 object-cover">
                        <div class="p-6">
                            <h4 class="font-semibold text-lg text-white" data-i18n="edu-fire-title">Penggunaan APAR</h4>
                            <p class="text-gray-400 mt-2" data-i18n="edu-fire-desc">Panduan singkat cara menggunakan Alat Pemadam Api Ringan (APAR) dengan teknik PASS.</p>
                            <a href="apar.html" class="text-amber-400 hover:text-amber-300 font-medium mt-4 inline-block"><span data-i18n="edu-readmore">Baca Selengkapnya</span> &rarr;</a>
                        </div>
                    </div>
                    <div class="dark-card rounded-xl overflow-hidden">
                        <img src="https://placehold.co/600x400/60a5fa/ffffff?text=P3K" alt="P3K" class="w-full h-40 object-cover">
                        <div class="p-6">
                            <h4 class="font-semibold text-lg text-white" data-i18n="edu-firstaid-title">P3K Dasar di Kelas</h4>
                            <p class="text-gray-400 mt-2" data-i18n="edu-firstaid-desc">Langkah pertolongan pertama untuk luka gores, memar, dan cedera ringan lainnya yang umum terjadi.</p>
                            <a href="p3k.html" class="text-amber-400 hover:text-amber-300 font-medium mt-4 inline-block"><span data-i18n="edu-readmore">Baca Selengkapnya</span> &rarr;</a>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Kontak Section -->
            <section id="kontak" class="content-section dark-card p-8 rounded-xl">
                 <h3 class="text-3xl font-bold text-white mb-6" data-i18n="contact-title">Kontak Penting K3</h3>
                 <div class="space-y-4">
                     <div class="flex items-center p-4 bg-white/5 rounded-lg border border-white/10">
                         <i class="fas fa-user-shield text-2xl text-amber-400 mr-4"></i>
                         <div>
                             <p class="font-semibold text-white" data-i18n="contact-internal">Petugas K3 Internal</p>
                             <p class="text-gray-300" data-i18n="contact-internal-name">Bapak Budi Santoso</p>
                             <p class="text-gray-400" data-i18n="contact-internal-phone">Telepon: 0812-3456-7890 (Ext: 112)</p>
                         </div>
                     </div>
                      <div class="flex items-center p-4 bg-white/5 rounded-lg border border-white/10">
                         <i class="fas fa-ambulance text-2xl text-red-400 mr-4"></i>
                         <div>
                             <p class="font-semibold text-white" data-i18n="contact-ambulance">Ambulans / Gawat Darurat</p>
                             <p class="text-gray-300">118 atau 119</p>
                         </div>
                     </div>
                     <div class="flex items-center p-4 bg-white/5 rounded-lg border border-white/10">
                         <i class="fas fa-fire-extinguisher text-2xl text-amber-400 mr-4"></i>
                         <div>
                             <p class="font-semibold text-white" data-i18n="contact-fire">Pemadam Kebakaran</p>
                             <p class="text-gray-300">113</p>
                         </div>
                     </div>
                 </div>
            </section>
        </main>
    </div>

    <!-- Notification removed -->

    <!-- Modal removed: materials open on separate pages now -->

    <script>
        // Translations
        const translations = {
            id: {
                'tagline': 'Keselamatan Prioritas Kita',
                'nav-dashboard': 'Dashboard',
                'nav-policy': 'Kebijakan K3',
                'nav-emergency': 'Prosedur Darurat',
                /* 'nav-report' removed */
                'nav-education': 'Materi Edukasi',
                'nav-contact': 'Kontak Penting',
                'theme': 'Tema',
                'back-home': 'Kembali ke Beranda',
                'card-report': 'Lapor Insiden',
                'card-report-desc': 'Laporkan kondisi tidak aman atau kecelakaan.',
                'card-emergency': 'Prosedur Darurat',
                'card-emergency-desc': 'Langkah-langkah saat keadaan darurat.',
                'card-education': 'Materi Edukasi',
                'card-education-desc': 'Tingkatkan pengetahuan K3 Anda.',
                'announcements': 'Pengumuman K3',
                'announcement-text': 'Akan diadakan simulasi evakuasi kebakaran pada hari Jumat, 26 September 2025. Seluruh staf dan siswa wajib mengikuti. Informasi lebih lanjut akan diumumkan melalui email.',
                'announcement-by': 'Diumumkan oleh: Manajer K3 - 23 September 2025',
                /* Gamification translations removed */
                // Policy Section
                'policy-title': 'Kebijakan K3 Perusahaan',
                'policy-intro': 'PT Bimbel Brawijaya berkomitmen untuk menyediakan lingkungan belajar dan bekerja yang aman dan sehat bagi semua siswa, pengajar, staf, dan pengunjung. Kami percaya bahwa semua kecelakaan kerja dan penyakit akibat kerja dapat dicegah.',
                'policy-goals': 'Untuk mencapai tujuan ini, kami akan:',
                'policy-1': 'Mematuhi semua peraturan perundang-undangan K3 yang berlaku dan standar industri terkait.',
                'policy-2': 'Mengidentifikasi, menilai, dan mengendalikan semua potensi bahaya di tempat kerja.',
                'policy-3': 'Menyediakan pelatihan dan informasi yang memadai tentang K3 kepada seluruh karyawan dan siswa.',
                'policy-4': 'Mendorong partisipasi aktif dari semua pihak dalam program K3.',
                'policy-5': 'Melakukan peninjauan dan perbaikan berkelanjutan terhadap sistem manajemen K3 kami.',
                'policy-closing': 'Kebijakan ini berlaku untuk semua lokasi dan kegiatan di bawah naungan PT Bimbel Brawijaya. Komitmen terhadap K3 adalah tanggung jawab kita bersama.',
                'policy-signature': 'Manajemen PT Bimbel Brawijaya',
                // Emergency Procedures
                'emergency-fire-title': 'Prosedur Saat Kebakaran',
                'emergency-fire-1': 'Tetap tenang, jangan panik.',
                'emergency-fire-2': 'Segera beritahu orang sekitar dengan berteriak "KEBAKARAN!".',
                'emergency-fire-3': 'Jika api kecil, coba padamkan dengan APAR (Alat Pemadam Api Ringan) jika Anda terlatih.',
                'emergency-fire-4': 'Jika api membesar, segera tinggalkan gedung melalui jalur evakuasi.',
                'emergency-fire-5': 'Jangan gunakan lift. Gunakan tangga darurat.',
                'emergency-fire-6': 'Berkumpul di titik kumpul (assembly point) yang telah ditentukan.',
                'emergency-earthquake-title': 'Prosedur Saat Gempa Bumi',
                'emergency-earthquake-1': 'Segera berlindung di bawah meja yang kokoh atau merapat ke dinding bagian dalam.',
                'emergency-earthquake-2': 'Jauhi jendela, kaca, dan benda-benda yang mudah jatuh.',
                'emergency-earthquake-3': 'Lindungi kepala dengan tangan atau benda empuk.',
                'emergency-earthquake-4': 'Jika di luar ruangan, jauhi gedung, tiang listrik, dan pohon.',
                'emergency-earthquake-5': 'Setelah guncangan berhenti, keluar dari gedung dengan tertib.',
                'emergency-medical-title': 'Prosedur Kedaruratan Medis',
                'emergency-medical-1': 'Segera hubungi petugas K3 atau resepsionis.',
                'emergency-medical-2': 'Jangan memindahkan korban kecuali dalam kondisi bahaya.',
                'emergency-medical-3': 'Berikan pertolongan pertama sesuai kemampuan (jika terlatih).',
                'emergency-medical-4': 'Tenangkan korban dan jangan berkerumun.',
                'emergency-medical-5': 'Ikuti arahan dari tim medis atau petugas K3 yang datang.',
                /* Report Incident form strings removed */
                // Education Materials
                'edu-ergonomics-title': 'Ergonomi Posisi Belajar',
                'edu-ergonomics-desc': 'Pelajari cara duduk dan menggunakan komputer dengan benar untuk menghindari nyeri punggung dan leher.',
                'edu-fire-title': 'Penggunaan APAR',
                'edu-fire-desc': 'Panduan singkat cara menggunakan Alat Pemadam Api Ringan (APAR) dengan teknik PASS.',
                'edu-firstaid-title': 'P3K Dasar di Kelas',
                'edu-firstaid-desc': 'Langkah pertolongan pertama untuk luka gores, memar, dan cedera ringan lainnya yang umum terjadi.',
                'edu-readmore': 'Baca Selengkapnya',
                // Contact Section
                'contact-title': 'Kontak Penting K3',
                'contact-internal': 'Petugas K3 Internal',
                'contact-internal-name': 'Bapak Budi Santoso',
                'contact-internal-phone': 'Telepon: 0812-3456-7890 (Ext: 112)',
                'contact-ambulance': 'Ambulans / Gawat Darurat',
                'contact-fire': 'Pemadam Kebakaran',
            },
            en: {
                'tagline': 'Safety is Our Priority',
                'nav-dashboard': 'Dashboard',
                'nav-policy': 'K3 Policy',
                'nav-emergency': 'Emergency Procedures',
                'nav-report': 'Report Incident',
                'nav-education': 'Educational Materials',
                'nav-contact': 'Important Contacts',
                'theme': 'Theme',
                'back-home': 'Back to Home',
                'card-report': 'Report Incident',
                'card-report-desc': 'Report unsafe conditions or accidents.',
                'card-emergency': 'Emergency Procedures',
                'card-emergency-desc': 'Steps during emergencies.',
                'card-education': 'Educational Materials',
                'card-education-desc': 'Improve your K3 knowledge.',
                'announcements': 'K3 Announcements',
                'announcement-text': 'A fire evacuation simulation will be held on Friday, September 26, 2025. All staff and students must participate. More information will be announced via email.',
                'announcement-by': 'Announced by: K3 Manager - September 23, 2025',
                /* Gamification translations removed */
                // Policy Section
                'policy-title': 'Company K3 Policy',
                'policy-intro': 'PT Bimbel Brawijaya is committed to providing a safe and healthy learning and working environment for all students, teachers, staff, and visitors. We believe that all work accidents and occupational diseases can be prevented.',
                'policy-goals': 'To achieve this goal, we will:',
                'policy-1': 'Comply with all applicable K3 laws and regulations and related industry standards.',
                'policy-2': 'Identify, assess, and control all potential hazards in the workplace.',
                'policy-3': 'Provide adequate training and information on K3 to all employees and students.',
                'policy-4': 'Encourage active participation from all parties in the K3 program.',
                'policy-5': 'Conduct continuous review and improvement of our K3 management system.',
                'policy-closing': 'This policy applies to all locations and activities under PT Bimbel Brawijaya. Commitment to K3 is our shared responsibility.',
                'policy-signature': 'Management of PT Bimbel Brawijaya',
                // Emergency Procedures
                'emergency-fire-title': 'Fire Emergency Procedures',
                'emergency-fire-1': 'Stay calm, don\'t panic.',
                'emergency-fire-2': 'Immediately alert others by shouting "FIRE!".',
                'emergency-fire-3': 'If the fire is small, try to extinguish it with a fire extinguisher if you are trained.',
                'emergency-fire-4': 'If the fire grows, immediately leave the building through evacuation routes.',
                'emergency-fire-5': 'Do not use elevators. Use emergency stairs.',
                'emergency-fire-6': 'Gather at the designated assembly point.',
                'emergency-earthquake-title': 'Earthquake Procedures',
                'emergency-earthquake-1': 'Immediately take cover under a sturdy table or against an interior wall.',
                'emergency-earthquake-2': 'Stay away from windows, glass, and objects that can fall.',
                'emergency-earthquake-3': 'Protect your head with your hands or a soft object.',
                'emergency-earthquake-4': 'If outdoors, stay away from buildings, power lines, and trees.',
                'emergency-earthquake-5': 'After the shaking stops, exit the building in an orderly manner.',
                'emergency-medical-title': 'Medical Emergency Procedures',
                'emergency-medical-1': 'Immediately contact K3 personnel or receptionist.',
                'emergency-medical-2': 'Do not move the victim unless in danger.',
                'emergency-medical-3': 'Provide first aid according to your ability (if trained).',
                'emergency-medical-4': 'Calm the victim and avoid crowding.',
                'emergency-medical-5': 'Follow instructions from medical team or K3 personnel who arrive.',
                // Report Incident Form
                /* Report Incident form strings removed */
                // Education Materials
                'edu-ergonomics-title': 'Learning Posture Ergonomics',
                'edu-ergonomics-desc': 'Learn how to sit and use computers correctly to avoid back and neck pain.',
                'edu-fire-title': 'Fire Extinguisher Usage',
                'edu-fire-desc': 'Quick guide on how to use a fire extinguisher with the PASS technique.',
                'edu-firstaid-title': 'Basic First Aid in Class',
                'edu-firstaid-desc': 'First aid steps for cuts, bruises, and other common minor injuries.',
                'edu-readmore': 'Read More',
                // Educational HTML content (English)
                'edu-ergonomics-content': '<p><strong>Ergonomics is about aligning the human body with its working environment. For learning, ergonomics means creating sitting positions, lighting, and desk setups that keep the body comfortable and healthy.</strong></p><p><strong>Goal:</strong> Reduce the risk of back, neck, and wrist pain; improve focus; prevent long-term postural problems.</p><h5 class="mt-3 font-semibold">Basic Principles</h5><ul class="list-disc pl-5"><li><strong>Sitting Posture:</strong> Keep the back straight against the chair back, shoulders relaxed, elbows at ~90°.</li><li><strong>Desk & Chair Height:</strong> Desk level with elbows; feet should touch the floor or a footrest.</li><li><strong>Screen Position:</strong> Screen at eye level, 50–70 cm from the face.</li><li><strong>Microbreaks:</strong> Every 30–40 minutes, stand up and stretch.</li><li><strong>Lighting:</strong> Use natural light when possible; avoid screen glare.</li></ul>',
                'edu-safety-content': '<h5 class="font-semibold">Fire Extinguishers (APAR)</h5><p>Fire extinguishers are useful for putting out small fires before they grow.</p><p><strong>Types:</strong> Water (wood/paper), Foam (liquids), Dry Chemical (multi-purpose), CO₂ (electrical).</p><p><strong>PASS Technique:</strong> Pull, Aim, Squeeze, Sweep.</p><h5 class="mt-3 font-semibold">First Aid (P3K)</h5><p>First aid is quick action to prevent a condition from worsening before medical help arrives.</p><ul class="list-disc pl-5"><li><strong>Abrasions/Cuts:</strong> Clean, apply antiseptic, cover with gauze.</li><li><strong>Bruises:</strong> Apply a cold compress for 10–15 minutes.</li><li><strong>Fainting:</strong> Lay the person down, loosen tight clothing, ensure fresh air.</li><li><strong>Minor Burns:</strong> Rinse with running water for 10 minutes.</li></ul>',
                // Contact Section
                'contact-title': 'Important K3 Contacts',
                'contact-internal': 'Internal K3 Officer',
                'contact-internal-name': 'Mr. Budi Santoso',
                'contact-internal-phone': 'Phone: 0812-3456-7890 (Ext: 112)',
                'contact-ambulance': 'Ambulance / Emergency',
                'contact-fire': 'Fire Department',
            }
        };

        document.addEventListener('DOMContentLoaded', function () {
            const navLinks = document.querySelectorAll('.nav-link');
            const navCardLinks = document.querySelectorAll('.nav-link-card');
            const contentSections = document.querySelectorAll('.content-section');
            const pageTitle = document.getElementById('page-title');
            
            // Mobile menu elements
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const closeMobileMenu = document.getElementById('closeMobileMenu');
            const mobileOverlay = document.getElementById('mobileOverlay');
            const aside = document.querySelector('aside');
            
            // Theme toggle elements
            const themeToggle = document.getElementById('themeToggle');
            const themeToggleMobile = document.getElementById('themeToggleMobile');
            
            // Language toggle elements
            const langToggle = document.getElementById('langToggle');
            const langToggleDesktop = document.getElementById('langToggleDesktop');
            const currentLangDisplay = document.getElementById('currentLang');

            const pageTitles = {
                id: {
                    'dashboard': 'Dashboard',
                    'kebijakan': 'Kebijakan K3',
                    'prosedur-darurat': 'Prosedur Darurat',
                    /* 'lapor-insiden' removed */
                    'materi-edukasi': 'Materi Edukasi',
                    'kontak': 'Kontak Penting',
                },
                en: {
                    'dashboard': 'Dashboard',
                    'kebijakan': 'K3 Policy',
                    'prosedur-darurat': 'Emergency Procedures',
                    /* 'lapor-insiden' removed */
                    'materi-edukasi': 'Educational Materials',
                    'kontak': 'Important Contacts',
                }
            };
            
            // Mobile Menu Toggle
            function toggleMobileMenu() {
                aside.classList.toggle('mobile-open');
                mobileOverlay.classList.toggle('active');
            }
            
            if (mobileMenuBtn) {
                mobileMenuBtn.addEventListener('click', toggleMobileMenu);
            }
            if (closeMobileMenu) {
                closeMobileMenu.addEventListener('click', toggleMobileMenu);
            }
            if (mobileOverlay) {
                mobileOverlay.addEventListener('click', toggleMobileMenu);
            }
            
            // Theme Toggle
            function getSystemTheme() {
                return window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark';
            }
            
            function setTheme(theme) {
                if (theme === 'light') {
                    document.body.classList.add('light-mode');
                    if (themeToggle) themeToggle.innerHTML = '<i class="fas fa-sun mr-2"></i><span data-i18n="theme">Tema</span>';
                    if (themeToggleMobile) themeToggleMobile.innerHTML = '<i class="fas fa-sun text-lg"></i>';
                } else {
                    document.body.classList.remove('light-mode');
                    if (themeToggle) themeToggle.innerHTML = '<i class="fas fa-moon mr-2"></i><span data-i18n="theme">Tema</span>';
                    if (themeToggleMobile) themeToggleMobile.innerHTML = '<i class="fas fa-moon text-lg"></i>';
                }
                localStorage.setItem('theme', theme);
            }
            
            function toggleTheme() {
                const currentTheme = document.body.classList.contains('light-mode') ? 'light' : 'dark';
                setTheme(currentTheme === 'light' ? 'dark' : 'light');
            }
            
            // Initialize theme
            const savedTheme = localStorage.getItem('theme') || getSystemTheme();
            setTheme(savedTheme);
            
            if (themeToggle) {
                themeToggle.addEventListener('click', toggleTheme);
            }
            if (themeToggleMobile) {
                themeToggleMobile.addEventListener('click', toggleTheme);
            }
            
            // Watch for system theme changes
            window.matchMedia('(prefers-color-scheme: light)').addEventListener('change', (e) => {
                if (!localStorage.getItem('theme')) {
                    setTheme(e.matches ? 'light' : 'dark');
                }
            });
            
            // Language Toggle
            function setLanguage(lang) {
                document.querySelectorAll('[data-i18n]').forEach(element => {
                    const key = element.getAttribute('data-i18n');
                    if (translations[lang] && translations[lang][key]) {
                        element.textContent = translations[lang][key];
                    }
                });
                
                // Handle placeholder translations
                document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
                    const key = element.getAttribute('data-i18n-placeholder');
                    if (translations[lang] && translations[lang][key]) {
                        element.placeholder = translations[lang][key];
                    }
                });

                // Populate elements that require HTML content
                document.querySelectorAll('[data-i18n-html]').forEach(element => {
                    const key = element.getAttribute('data-i18n-html');
                    if (translations[lang] && translations[lang][key]) {
                        element.innerHTML = translations[lang][key];
                    }
                });
                
                if (currentLangDisplay) {
                    currentLangDisplay.textContent = lang.toUpperCase();
                }
                
                localStorage.setItem('language', lang);
                
                // Update page title
                const currentSection = window.location.hash.substring(1) || 'dashboard';
                if (pageTitles[lang] && pageTitles[lang][currentSection]) {
                    pageTitle.textContent = pageTitles[lang][currentSection];
                }
            }
            
            function toggleLanguage() {
                const currentLang = localStorage.getItem('language') || 'id';
                const newLang = currentLang === 'id' ? 'en' : 'id';
                setLanguage(newLang);
            }
            
            // Initialize language
            const savedLang = localStorage.getItem('language') || 'id';
            setLanguage(savedLang);
            
            if (langToggle) {
                langToggle.addEventListener('click', toggleLanguage);
            }
            if (langToggleDesktop) {
                langToggleDesktop.addEventListener('click', toggleLanguage);
            }
            
            function showSection(targetId) {
                const currentLang = localStorage.getItem('language') || 'id';
                
                // Hide all sections
                contentSections.forEach(section => {
                    section.classList.remove('active');
                });

                // Show the target section
                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                    targetSection.classList.add('active');
                    pageTitle.textContent = pageTitles[currentLang][targetId] || pageTitles[currentLang]['dashboard'];
                    // smooth scroll into view for better UX
                    targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }

                // Update active link style
                navLinks.forEach(link => {
                    link.classList.remove('active-link');
                    if (link.getAttribute('href') === `#${targetId}`) {
                        link.classList.add('active-link');
                    }
                });
                
                // Close mobile menu after navigation
                if (window.innerWidth < 768) {
                    toggleMobileMenu();
                }
            }

            function handleNavClick(event) {
                event.preventDefault();
                const targetId = event.currentTarget.getAttribute('href').substring(1);
                window.location.hash = targetId;
            }
            
            // Listen for hash changes to navigate
            window.addEventListener('hashchange', () => {
                const hash = window.location.hash.substring(1) || 'dashboard';
                showSection(hash);
            });

            // Initial page load
            const initialHash = window.location.hash.substring(1) || 'dashboard';
            showSection(initialHash);

            // Add click listeners to all nav links (sidebar and cards)
            navLinks.forEach(link => link.addEventListener('click', handleNavClick));
            navCardLinks.forEach(link => link.addEventListener('click', handleNavClick));

            // Modal behavior removed; links now navigate to separate pages normally.

            // Incident reporting UI and form were removed per project request.
        });
    </script>
</body>
</html>